<svg width="640" height="640" viewBox="0 0 640 640" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="white"/><g><circle data-type="point" data-label="A (Port z=0)" data-x="4" data-y="4" cx="40" cy="600" r="3" fill="hsl(90, 100%, 50%)"/></g><g><circle data-type="point" data-label="A (Port z=0)" data-x="6" data-y="4" cx="600" cy="600" r="3" fill="hsl(90, 100%, 50%)"/></g><g><circle data-type="point" data-label="B (Port z=0)" data-x="4" data-y="4" cx="40" cy="600" r="3" fill="hsl(270, 100%, 50%)"/></g><g><circle data-type="point" data-label="B (Port z=0)" data-x="6" data-y="4" cx="600" cy="600" r="3" fill="hsl(270, 100%, 50%)"/></g><g><polyline data-points="4,4 6,4 6,6 4,6 4,4" data-type="line" data-label="" points="40,600 600,600 600,40 40,40 40,600" fill="none" stroke="gray" stroke-width="1px"/></g><g><polyline data-points="4,4 4.664619549953723,4.672186999534079" data-type="line" data-label="A segment (z=0)" points="40,600 226.09347398704244,411.78764013045793" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="42"/></g><g><polyline data-points="4.664619549953723,4.672186999534079 5,5" data-type="line" data-label="A segment (z=1)" points="226.09347398704244,411.78764013045793 320,320" fill="none" stroke="rgba(128,255,0,0.5)" stroke-width="42" stroke-dasharray="0.15 0.15"/></g><g><polyline data-points="5,5 5.334640488931146,5.334390078795973" data-type="line" data-label="A segment (z=1)" points="320,320 413.6993369007207,226.3707779371275" fill="none" stroke="rgba(128,255,0,0.5)" stroke-width="42" stroke-dasharray="0.15 0.15"/></g><g><polyline data-points="5.334640488931146,5.334390078795973 6,4" data-type="line" data-label="A segment (z=0)" points="413.6993369007207,226.3707779371275 600,600" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="42"/></g><g><polyline data-points="4.664619549953723,4.672186999534079 4.645634744579782,4.7345374223783585" data-type="line" data-label="Force by B Seg 1-2 on A mPoint 0" points="226.09347398704244,411.78764013045793 220.77772848233894,394.32952173405965" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="4.664619549953723,4.672186999534079 4.650233459924589,4.698616593182816" data-type="line" data-label="Force by B Seg 2-3 on A mPoint 0" points="226.09347398704244,411.78764013045793 222.06536877888493,404.3873539088115" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="4.664619549953723,4.672186999534079 4.661275139750161,4.674855525274464" data-type="line" data-label="Force by B Seg 3-4 on A mPoint 0" points="226.09347398704244,411.78764013045793 225.15703913004495,411.04045292315004" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="4.664619549953723,4.672186999534079 4.672347931209416,4.703100524556851" data-type="line" data-label="Force by B Seg 0-1 on A mPoint 0" points="226.09347398704244,411.78764013045793 228.25742073863648,403.13185312408154" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="4.664619549953723,4.672186999534079 4.652664140045786,4.660231589626142" data-type="line" data-label="Force by A Via 3 on A mPoint 0" points="226.09347398704244,411.78764013045793 222.74595921282025,415.1351549046801" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.334640488931146,5.334390078795973 5.334801821670131,5.334581118763526" data-type="line" data-label="Force by B Seg 0-1 on A mPoint 2" points="413.6993369007207,226.3707779371275 413.7445100676366,226.31728674621263" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.334640488931146,5.334390078795973 5.335683599626721,5.335438721990713" data-type="line" data-label="Force by B Seg 1-2 on A mPoint 2" points="413.6993369007207,226.3707779371275 413.99140789548187,226.07715784260017" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.334640488931146,5.334390078795973 5.347700679060885,5.341714442850617" data-type="line" data-label="Force by B Seg 2-3 on A mPoint 2" points="413.6993369007207,226.3707779371275 417.35619013704786,224.31995600182722" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.334640488931146,5.334390078795973 5.334563557415153,5.335005530923912" data-type="line" data-label="Force by B Seg 3-4 on A mPoint 2" points="413.6993369007207,226.3707779371275 413.6777960762429,226.1984513413047" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.334640488931146,5.334390078795973 5.346595898839082,5.34634548870391" data-type="line" data-label="Force by A Via 1 on A mPoint 2" points="413.6993369007207,226.3707779371275 417.0468516749429,223.02326316290532" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="4,4 4.50195621157869,4.125" data-type="line" data-label="B segment (z=0)" points="40,600 180.54773924203323,565" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="42"/></g><g><polyline data-points="4.50195621157869,4.125 5.000537965118625,4.125" data-type="line" data-label="B segment (z=0)" points="180.54773924203323,565 320.150630233215,565" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="42"/></g><g><polyline data-points="5.000537965118625,4.125 5.498738274579314,4.125" data-type="line" data-label="B segment (z=0)" points="320.150630233215,565 459.646716882208,565" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="42"/></g><g><polyline data-points="5.498738274579314,4.125 6,4" data-type="line" data-label="B segment (z=0)" points="459.646716882208,565 600,600" fill="none" stroke="hsl(270, 100%, 50%)" stroke-width="42"/></g><g><polyline data-points="4.50195621157869,4.125 4.545818900464759,4.087431597009757" data-type="line" data-label="Force by A Seg 0-1 on B mPoint 0" points="180.54773924203323,565 192.82929213013267,575.5191528372682" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="4.50195621157869,4.125 4.501186216200649,4.1248213716399755" data-type="line" data-label="Force by A Seg 3-4 on B mPoint 0" points="180.54773924203323,565 180.33214053618167,565.0500159408068" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="4.50195621157869,4.125 4.4980920209508435,4.0915235565311905" data-type="line" data-label="Force by A Via 1 on B mPoint 0" points="180.54773924203323,565 179.4657658662361,574.3734041712667" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="4.50195621157869,4.125 4.501851940272316,4.124682980493386" data-type="line" data-label="Force by A Via 3 on B mPoint 0" points="180.54773924203323,565 180.51854327624847,565.0887654618518" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.000537965118625,4.125 5.020141494728738,4.111164812290607" data-type="line" data-label="Force by A Seg 0-1 on B mPoint 1" points="320.150630233215,565 325.63961852404645,568.87385255863" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.000537965118625,4.125 4.986730389538321,4.123211178214184" data-type="line" data-label="Force by A Seg 3-4 on B mPoint 1" points="320.150630233215,565 316.2845090707299,565.5008701000284" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.000537965118625,4.125 5.0055638907181415,4.096928467843544" data-type="line" data-label="Force by A Via 1 on B mPoint 1" points="320.150630233215,565 321.5578894010796,572.8600290038078" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.000537965118625,4.125 5.000475387861784,4.124419649003334" data-type="line" data-label="Force by A Via 3 on B mPoint 1" points="320.150630233215,565 320.1331086012997,565.1624982790663" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.498738274579314,4.125 5.501573812413562,4.121921882332996" data-type="line" data-label="Force by A Seg 0-1 on B mPoint 2" points="459.646716882208,565 460.4406674757972,565.861872946761" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.498738274579314,4.125 5.464331325878455,4.112708139960777" data-type="line" data-label="Force by A Seg 3-4 on B mPoint 2" points="459.646716882208,565 450.01277124596754,568.4417208109826" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.498738274579314,4.125 5.505036711274207,4.113930139924666" data-type="line" data-label="Force by A Via 1 on B mPoint 2" points="459.646716882208,565 461.41027915677796,568.0995608210935" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><g><polyline data-points="5.498738274579314,4.125 5.498776740337311,4.124362231966725" data-type="line" data-label="Force by A Via 3 on B mPoint 2" points="459.646716882208,565 459.65748729444704,565.178575049317" fill="none" stroke="hsl(90, 100%, 50%)" stroke-width="5.6000000000000005" stroke-dasharray="2,2"/></g><circle data-type="circle" data-label="" data-x="4.664619549953723" data-y="4.672186999534079" cx="226.09347398704244" cy="411.78764013045793" r="42" fill="rgba(128,255,0,0.5)" stroke="black" stroke-width="0.0035714285714285713"/><circle data-type="circle" data-label="" data-x="5" data-y="5" cx="320" cy="320" r="0.068359375" fill="rgba(128,255,0,0.5)" stroke="black" stroke-width="0.0035714285714285713"/><circle data-type="circle" data-label="" data-x="5.334640488931146" data-y="5.334390078795973" cx="413.6993369007207" cy="226.3707779371275" r="42" fill="rgba(128,255,0,0.5)" stroke="black" stroke-width="0.0035714285714285713"/><circle data-type="circle" data-label="" data-x="4.50195621157869" data-y="4.125" cx="180.54773924203323" cy="565" r="0.068359375" fill="hsl(270, 100%, 50%)" stroke="black" stroke-width="0.0035714285714285713"/><circle data-type="circle" data-label="" data-x="5.000537965118625" data-y="4.125" cx="320.150630233215" cy="565" r="0.068359375" fill="hsl(270, 100%, 50%)" stroke="black" stroke-width="0.0035714285714285713"/><circle data-type="circle" data-label="" data-x="5.498738274579314" data-y="4.125" cx="459.646716882208" cy="565" r="0.068359375" fill="hsl(270, 100%, 50%)" stroke="black" stroke-width="0.0035714285714285713"/><g id="crosshair" style="display: none"><line id="crosshair-h" y1="0" y2="640" stroke="#666" stroke-width="0.5"/><line id="crosshair-v" x1="0" x2="640" stroke="#666" stroke-width="0.5"/><text id="coordinates" font-family="monospace" font-size="12" fill="#666"></text></g><script><![CDATA[
              document.currentScript.parentElement.addEventListener('mousemove', (e) => {
                const svg = e.currentTarget;
                const rect = svg.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const crosshair = svg.getElementById('crosshair');
                const h = svg.getElementById('crosshair-h');
                const v = svg.getElementById('crosshair-v');
                const coords = svg.getElementById('coordinates');
                
                crosshair.style.display = 'block';
                h.setAttribute('x1', '0');
                h.setAttribute('x2', '640');
                h.setAttribute('y1', y);
                h.setAttribute('y2', y);
                v.setAttribute('x1', x);
                v.setAttribute('x2', x);
                v.setAttribute('y1', '0');
                v.setAttribute('y2', '640');

                // Calculate real coordinates using inverse transformation
                const matrix = {"a":280,"c":0,"e":-1080,"b":0,"d":-280,"f":1720};
                // Manually invert and apply the affine transform
                // Since we only use translate and scale, we can directly compute:
                // x' = (x - tx) / sx
                // y' = (y - ty) / sy
                const sx = matrix.a;
                const sy = matrix.d;
                const tx = matrix.e; 
                const ty = matrix.f;
                const realPoint = {
                  x: (x - tx) / sx,
                  y: (y - ty) / sy // Flip y back since we used negative scale
                }
                
                coords.textContent = `(${realPoint.x.toFixed(2)}, ${realPoint.y.toFixed(2)})`;
                coords.setAttribute('x', (x + 5).toString());
                coords.setAttribute('y', (y - 5).toString());
              });
              document.currentScript.parentElement.addEventListener('mouseleave', () => {
                document.currentScript.parentElement.getElementById('crosshair').style.display = 'none';
              });
            ]]></script></svg>